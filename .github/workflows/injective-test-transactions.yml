# .github/workflows/injective-test-transactions.yml

name: Injective Manual Test Transactions

on:
  workflow_dispatch: # Ø§ÛŒÙ† Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ù…Ú©Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ Workflow Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯

jobs:
  test-transactions:
    runs-on: ubuntu-latest # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø§ÙˆØ¨ÙˆÙ†ØªÙˆ
    
    # Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Node.js Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒÙ…
    env:
      INJECTIVE_PRIVATE_KEY: ${{ secrets.INJECTIVE_PRIVATE_KEY }} # Ú©Ù„ÛŒØ¯ Ø®ØµÙˆØµÛŒ Ø´Ù…Ø§ Ø§Ø² GitHub Secrets

    steps:
      - name: â¬‡ï¸ Checkout Repository
        uses: actions/checkout@v4 # Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ
        
      - name: ğŸ› ï¸ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20' # Ø§Ø² Node.js Ù†Ø³Ø®Ù‡ 20 Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´ÙˆØ¯

      - name: ğŸ“¦ Install Dependencies
        run: npm install # Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø¯Ø± package.json

      - name: ğŸ“‚ Create data directory if not exists
        run: mkdir -p data # Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² ÙˆØ¬ÙˆØ¯ Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ data
        
      - name: ğŸš€ Run All Injective Transactions (Test Mode)
        run: |
          # ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ù…Ø­ÛŒØ·ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ ÙÙˆØ±ÛŒ ØªÙ…Ø§Ù… ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§
          # Ø§ÛŒÙ† Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª ÙÚ©Ø± Ú©Ù†Ù‡ Ø²Ù…Ø§Ù† Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ Ù‡Ø³Øª
          # Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ú©Ø§Ù…Ù„ØŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒØ´Ù‡ Ú©Ù‡ ØªÙ…Ø§Ù… Ø²Ù…Ø§Ù†â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø®Øµ Ø´Ø¯Ù‡ Ø¯Ø± run-transactions.js Ø±Ùˆ Ù…ÙˆÙ‚ØªØ§Ù‹ Ø¨Ù‡ Ø²Ù…Ø§Ù† ÙØ¹Ù„ÛŒ ÛŒØ§ Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ Ø²Ù…Ø§Ù† ÙØ¹Ù„ÛŒ ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯.
          # ÛŒØ§ Ø§ÛŒÙ†Ú©Ù‡ ÛŒÚ© Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù† Ø¨Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª run-transactions.js Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒÙ… ØªØ§ Ø­Ø§Ù„Øª ØªØ³Øª Ø±Ùˆ ÙØ¹Ø§Ù„ Ú©Ù†Ù‡.
          # Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ ÙØ¹Ù„Ø§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§ Ø±Ùˆ Ø¯Ø± Ø§Ø³Ú©Ø±ÛŒÙ¾Øª run-transactions.js Ù…ÙˆÙ‚ØªØ§Ù‹ ØªØºÛŒÛŒØ± Ø¨Ø¯ÛŒØ¯.
          echo "Running transactions in test mode. Please ensure your script's schedules are adjusted for immediate testing or use a dedicated test flag in the script."
          npm start
