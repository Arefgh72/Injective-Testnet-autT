# .github/workflows/injective-daily-transactions.yml

name: Injective Daily Testnet Transactions (Python)

on:
  schedule:
    # ุงุฌุฑุง ุฏุฑ 05:30 UTC ุจุฑุง ุงุณุชฺฉ
    - cron: '30 5 * * *' 
    # ุงุฌุฑุง ุฏุฑ 06:00 UTC ุจุฑุง ูุงุฑูพ
    - cron: '0 6 * * *'
    # ุงุฌุฑุง ุฏุฑ 06:10 UTC ุจุฑุง ุขูโุงุณุชฺฉ
    - cron: '10 6 * * *' 
    # ุงุฌุฑุง ุฏุฑ 06:30 UTC ุจุฑุง ุขูโูุงุฑูพ
    - cron: '30 6 * * *'
    # ุงุฌุฑุง ุฏุฑ 09:00 UTC ุจุฑุง ูุงุฑูพ
    - cron: '0 9 * * *'
    # ุงุฌุฑุง ุฏุฑ 09:30 UTC ุจุฑุง ุขูโูุงุฑูพ
    - cron: '30 9 * * *'
    # ุงุฌุฑุง ุฏุฑ 12:00 UTC ุจุฑุง ุณูุงูพ USDT ุจู wINJ
    - cron: '0 12 * * *'
    # ุงุฌุฑุง ุฏุฑ 13:30 UTC ุจุฑุง ุงุณุชฺฉ
    - cron: '30 13 * * *'
    # ุงุฌุฑุง ุฏุฑ 14:00 UTC ุจุฑุง ูุงุฑูพ
    - cron: '0 14 * * *'
    # ุงุฌุฑุง ุฏุฑ 14:10 UTC ุจุฑุง ุขูโุงุณุชฺฉ
    - cron: '10 14 * * *'
    # ุงุฌุฑุง ุฏุฑ 14:30 UTC ุจุฑุง ุขูโูุงุฑูพ
    - cron: '30 14 * * *'
    # ุงุฌุฑุง ุฏุฑ 17:30 UTC ุจุฑุง ุงุณุชฺฉ
    - cron: '30 17 * * *'
    # ุงุฌุฑุง ุฏุฑ 18:00 UTC ุจุฑุง ูุงุฑูพ
    - cron: '0 18 * * *'
    # ุงุฌุฑุง ุฏุฑ 18:30 UTC ุจุฑุง ุขูโูุงุฑูพ
    - cron: '30 18 * * *'
    # ุงุฌุฑุง ุฏุฑ 19:00 UTC ุจุฑุง ุณูุงูพ USDT ุจู wINJ
    - cron: '0 19 * * *'
    # ุงุฌุฑุง ุฏุฑ 20:00 UTC ุจุฑุง ุณูุงูพ wINJ ุจู USDT
    - cron: '0 20 * * *'
    # ุงุฌุฑุง ุฏุฑ 22:30 UTC ุจุฑุง ุงุณุชฺฉ
    - cron: '30 22 * * *'
    # ุงุฌุฑุง ุฏุฑ 23:00 UTC ุจุฑุง ูุงุฑูพ
    - cron: '0 23 * * *'
    # ุงุฌุฑุง ุฏุฑ 23:30 UTC ุจุฑุง ุขูโูุงุฑูพ
    - cron: '30 23 * * *'
    # ุงุฌุฑุง ุฏุฑ 00:00 UTC (ูููโุดุจ) ุจุฑุง ุณูุงูพ wINJ ุจู USDT
    - cron: '0 0 * * *'

  workflow_dispatch: # ุงู ุจู ุดูุง ุงูฺฉุงู ูโุฏูุฏ ุชุง Workflow ุฑู ุจู ุตูุฑุช ุฏุณุช ูู ุงุฌุฑุง ฺฉูุฏ
  push:
    branches:
      - main # ุฏุฑ ุตูุฑุช push ุจู ุดุงุฎู mainุ Workflow ุงุฌุฑุง ุดูุฏ (ุงุฎุชุงุฑุ ูโุชูุงูุฏ ุญุฐู ฺฉูุฏ)

jobs:
  run-python-transactions:
    runs-on: ubuntu-latest # ุงุณุชูุงุฏู ุงุฒ ุขุฎุฑู ูุณุฎู ุงูุจููุชู
    
    env:
      INJECTIVE_PRIVATE_KEY: ${{ secrets.INJECTIVE_PRIVATE_KEY }} # ฺฉูุฏ ุฎุตูุต ุดูุง ุงุฒ GitHub Secrets
      # TEST_MODE ุฑู ุงูุฌุง ุชูุธู ููโฺฉููุ ฺูู ุงู Workflow ุจุฑุง ุงุฌุฑุง ุฒูุงูโุจูุฏ ุดุฏู ุงุณุช.

    steps:
      - name: โฌ๏ธ Checkout Repository
        uses: actions/checkout@v4 # ุจุฑุง ุฏุณุชุฑุณ ุจู ูุงูโูุง ุฑูพุงุฒุชูุฑ
        
      - name: ๐๏ธ Setup Python
        uses: actions/setup-python@v5 # ุงุณุชูุงุฏู ุงุฒ ุงฺฉุดู setup-python
        with:
          python-version: '3.10' # ุงุณุชูุงุฏู ุงุฒ ูพุงุชูู ูุณุฎู 3.10 (ุง ูุฑ ูุณุฎู ููุงุณุจ ุฏฺฏุฑ)

      - name: ๐ฆ Install Python Dependencies
        run: pip install -r requirements.txt # ูุตุจ ูุงุจุณุชฺฏโูุง ุชุนุฑู ุดุฏู ุฏุฑ requirements.txt

      - name: ๐ Create data directory if not exists
        run: mkdir -p data # ุงุทููุงู ุงุฒ ูุฌูุฏ ุฏุงุฑฺฉุชูุฑ data
        
      - name: ๐ Run Injective Transactions
        run: python scripts/run_transactions.py # ุงุฌุฑุง ุงุณฺฉุฑูพุช ูพุงุชูู ุดูุง
